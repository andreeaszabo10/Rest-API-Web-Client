Copyright Szabo Cristina-Andreea 2023-2024
# Rest API Web Client
Pentru a implementa aceasta tema am folosit laboratorul 9 ca schelet si nlohmann pentru a parsa json deoarece a facilitat rezolvarea temei, putand sa construiesc direct obiecte de tip json. Am scris codul pentru clientul care trimite cereri catre server, implementand urmatoarele operatii:
1. Register: citesc username-ul si parola, verific sa nu aiba spatii, deschid conexiunea cu serverul, creez json-ul cu username-ul si parola, construiesc mesajul de post request folosind url-ul de register si json-ul, trimit mesajul, primesc raspunsul, verific codul de eroare si afisez mesajul potrivit si inchid conexiunea.
2. Login: citesc username-ul si parola, verific sa nu aiba spatii, deschid conexiunea cu serverul, creez json-ul cu username-ul si parola, construiesc mesajul de post request folosind url-ul de login si json-ul, trimit mesajul, primesc raspunsul, verific codul de eroare si afisez mesajul potrivit, obtin cookie-ul parsand raspunsul si inchid conexiunea.
3. Enter_library: verific sa fie logat utilizatorul, deschid conexiunea cu serverul, construiesc mesajul de get request folosind url-ul de acces si cookie-ul, trimit mesajul, primesc raspunsul, verific codul de eroare si afisez mesajul potrivit, obtin token-ul jwt parsand raspunsul si inchid conexiunea.
4. Get_books:verific sa am acces, deschid conexiunea cu serverul, construiesc mesajul de get request folosind url-ul de books si token-ul, trimit mesajul, primesc raspunsul, afisez raspunsul si inchid conexiunea.
5. Add_book: verific sa am acces, citesc caracteristicile cartii, verific ca numarul de pagini sa fie numar, deschid conexiunea cu serverul, creez json-ul cu caracteristicile cartii, construiesc mesajul de post request folosind url-ul de books, token-ul si json-ul, trimit mesajul, primesc raspunsul, verific codul de eroare si afisez mesajul potrivit si inchid conexiunea.
6. Get_book: verific sa am acces, citesc id-ul si verific sa fie numar, deschid conexiunea cu serverul, construiesc url-ul pentru request adaugand id-ul la url-ul de books, construiesc mesajul de get request folosind url-ul si token-ul, trimit mesajul, primesc raspunsul, afisez raspunsul si inchid conexiunea.
7. Delete_book: verific sa am acces, citesc id-ul si verific sa fie numar, deschid conexiunea cu serverul, construiesc url-ul pentru request adaugand id-ul la url-ul de books, construiesc mesajul de delete request folosind url-ul si token-ul, trimit mesajul, primesc raspunsul, afisez mesajul in functie de codul primit si inchid conexiunea.
8. Logout: verific sa fie logat utilizatorul, deschid conexiunea, construiesc mesajul de get request folosind url-ul de logout si cookie-ul, trimit mesajul, primesc raspunsul, verific codul de eroare si afisez mesajul potrivit si inchid conexiunea.
9. Exit: ies din program.
La functiile din laborator am mai schimbat cateva lucruri pentru a lucra cu json, cum ar fi ca in loc de data_body am folosit direct json-ul creat si am adaugat un camp pentru jwt token.
